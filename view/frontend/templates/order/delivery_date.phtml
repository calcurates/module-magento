<?php
/**
 * @author Calcurates Team
 * @copyright Copyright Â© 2021 Calcurates (https://www.calcurates.com)
 * @license https://opensource.org/licenses/osl-3.0.php Open Software License (OSL 3.0)
 * @package Calcurates_ModuleMagento
 */
/** @var $block \Calcurates\ModuleMagento\Block\Adminhtml\Order\View\DeliveryDate */
/** @var $viewModel \Calcurates\ModuleMagento\ViewModel\OrderDeliveryDate */
/** @var \Magento\Framework\Escaper $escaper */
$viewModel = $block->getViewModel();

$orderData = $viewModel->getOrderDataByOrderId((int)$block->getRequest()->getParam('order_id'));
$hasDeliveryDateAndTime = $orderData && $orderData->getDeliveryDate();
?>
<?php if ($hasDeliveryDateAndTime): ?>
    <div class="block block-order-details-view">
        <div class="block-title">
            <strong><?= $block->escapeHtml(__('Delivery Dates')) ?></strong>
        </div>
        <div class="block-content">
            <strong><?= $block->escapeHtml(__('Selected Delivery Date')) ?></strong>

            <?= /* @noEscape */ $viewModel->formatDate($orderData->getDeliveryDate()) ?>


            <?php if ($orderData->getDeliveryDateTimeFrom() || $orderData->getDeliveryDateTimeTo()): ?>
                <br>
                <strong><?= $block->escapeHtml(__('Selected Delivery Time')) ?></strong>
                <?= /* @noEscape */ $viewModel->formatTimeInterval(
                    $orderData->getDeliveryDateTimeFrom(),
                    $orderData->getDeliveryDateTimeTo()
                ) ?>

            <?php endif; ?>
        </div>
    </div>
<?php endif; ?>
